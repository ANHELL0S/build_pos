import{r as i,j as e,A as P,m as w,Y as D,c as W,ae as z,af as F,B as S,ag as ce,w as j,ah as ue,ai as me,aj as xe,ak as pe,X as ge,S as he,i as be,al as fe,am as q,G as je,y as ye,an as ve,o as ke,p as Ne,n as we,q as Se,ao as Ce,ap as Me,aq as _e}from"./index-DCJW8iNa.js";import{f as qe}from"./search.util-CoWWLx4z.js";import{d as De}from"./date.util-DC23xNcO.js";import{S as Ue,T as Ae,R as Ee}from"./ReportModal-BZ3U--qb.js";import{z as m,u as O,t as B}from"./index-CsDd2ZOJ.js";import{I as h}from"./InputFieldZod-_ZQiqsKJ.js";import{M as E}from"./ModalActionUsers-DEIVyrPf.js";import"./jspdf.plugin.autotable-SxJb80S0.js";const Le=m.object({username:m.string({required_error:"Nombre de usuario es requerido."}).min(6,"Mínimo 6 caracteres").max(50,"Máximo 50 caracteres"),email:m.string({required_error:"Email es requerido."}).email("Correo electrónico no válido"),phone:m.string({required_error:"Número de celular es requerido."}).min(10,"Mínimo 10 caracteres").max(10,"Máximo 10 caracteres"),identification_card:m.string({required_error:"Cédula es requerida."}).min(10,"Mínimo 10 caracteres").max(10,"Máximo 10 caracteres"),residence:m.string({required_error:"Residencia es requerida."}).min(5,"Mínimo 5 caracteres").max(100,"Máximo 100 caracteres"),role:m.enum(["employee","counter"],{required_error:"Por favor, escoge un rol."}),securityWord:m.string({required_error:"Contraseña es requerida."}).min(6,"Mínimo 6 caracteres").max(20,"Máximo 20 caracteres").regex(/^[a-zA-Z]+$/,"La palabra de seguridad debe contener solo letras sin espacios."),confirmsecurityWord:m.string().min(6,"Mínimo 6 caracteres").max(20,"Máximo 20 caracteres").regex(/^[a-zA-Z]+$/,"La palabra de seguridad debe contener solo letras sin espacios.").refine(a=>a.securityWord===a.confirmsecurityWord,{message:"Las contraseñas deben ser iguales"})}),Re=m.object({username:m.string({required_error:"Nombre de usuario es requerido."}).min(6,"Mínimo 6 caracteres").max(50,"Máximo 50 caracteres"),email:m.string({required_error:"Email es requerido."}).email("Correo electrónico no válido"),phone:m.string({required_error:"Número de celular es requerido."}).min(10,"Mínimo 10 caracteres").max(10,"Máximo 10 caracteres"),identification_card:m.string({required_error:"Cédula es requerida."}).min(10,"Mínimo 10 caracteres").max(10,"Máximo 10 caracteres"),residence:m.string({required_error:"Residencia es requerida."}).min(5,"Mínimo 5 caracteres").max(100,"Máximo 100 caracteres"),role:m.enum(["employee","counter"],{required_error:"Por favor, escoge un rol."}),securityWord:m.string({required_error:"Palabra de seguridad es requerida."}).min(6,"Mínimo 6 caracteres")}),Pe=({text:a,onSubmit:u,onClose:d,loading:l,onChange:n,formData:x})=>{const[p,o]=i.useState(!1),[s,b]=i.useState(!1),{register:t,handleSubmit:g,formState:{errors:c},reset:v,watch:k}=O({resolver:B(Le),defaultValues:x}),C=async y=>{b(!0),await u(y)};i.useEffect(()=>{const y=k((M,{name:U,type:A})=>{A==="change"&&n({target:{name:U,value:M}})});return()=>y.unsubscribe()},[k,n]),i.useEffect(()=>{o(!0)},[]);const f={hidden:{opacity:0,backdropFilter:"blur(0px)"},visible:{opacity:1,backdropFilter:"blur(2px)",transition:{duration:.2}}},N={hidden:{opacity:0,scale:1,x:"100%",transition:{duration:.2,ease:"easeInOut"}},visible:{opacity:1,scale:1,x:"0%",transition:{duration:.2,ease:"circIn"}}};return e.jsx(e.Fragment,{children:e.jsx(P,{children:p&&e.jsxs(w.div,{className:"fixed inset-0 z-50 flex items-center justify-end overflow-auto",initial:"hidden",animate:"visible",exit:"hidden",variants:f,children:[e.jsx(w.div,{className:"absolute inset-0 bg-neutral-50/50 dark:bg-neutral-900/50",variants:f}),e.jsxs(w.div,{className:"relative flex h-full max-h-max w-full max-w-md flex-col gap-y-5 border bg-white p-6 text-neutral-600 shadow-lg dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-300",variants:N,onClick:y=>y.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2 font-medium",children:[e.jsx("div",{className:"rounded-lg border p-2 dark:border-neutral-700",children:e.jsx(D,{})}),e.jsx("span",{children:a.title})]}),!l&&e.jsx("button",{onClick:()=>{o(!1),setTimeout(d,300)},className:"cursor-pointer rounded-md p-1.5 text-lg text-neutral-400 transition-colors duration-150 hover:bg-neutral-100 hover:text-neutral-500 dark:hover:bg-neutral-800 dark:hover:text-neutral-300",children:e.jsx(W,{})})]}),e.jsxs("form",{onSubmit:g(C),className:"flex flex-col gap-y-2 overflow-y-auto pl-1 pr-4 text-xs text-neutral-600 dark:text-neutral-300",children:[e.jsx("div",{className:"grid grid-cols-1 gap-x-4 gap-y-3 pl-1 font-medium",children:e.jsx("div",{className:"text-md flex flex-col gap-y-1 font-semibold text-sky-600",children:e.jsxs("div",{className:"flex flex-col gap-y-2 rounded-sm border-l-4 border-sky-500 bg-sky-50 p-2 text-xs font-normal dark:border-sky-700 dark:bg-sky-900/40",children:[e.jsx("span",{children:a.description}),e.jsx("ol",{className:"list-disc pl-4",children:e.jsx("li",{children:e.jsx("span",{children:a.info1})})})]})})}),e.jsx(h,{type:"text",error:c.username,label:"Nombres completos",register:t("username"),placeholder:"Angelo David García Arteaga"}),e.jsx(h,{type:"text",error:c.email,label:"E-mail",register:t("email"),placeholder:"Correo electrónico"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-3 pt-2 font-medium",children:[e.jsx(h,{type:"text",error:c.phone,label:"Teléfono",register:t("phone"),placeholder:"Teléfono"}),e.jsx(h,{type:"text",error:c.identification_card,label:"Cédula",register:t("identification_card"),placeholder:"Cédula"})]}),e.jsx(h,{type:"text",error:c.residence,label:"Dirección",register:t("residence"),placeholder:"Dirección"}),e.jsx("div",{className:"grid grid-cols-1 gap-x-4 gap-y-3 pt-2 font-medium",children:e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:` ${c.role?"text-red-600 dark:text-red-500":""}`,children:"Rol"}),e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsxs("select",{name:"role",...t("role"),className:`bg-neutral- 50 rounded-md border border-neutral-100 bg-neutral-50 p-2 font-medium outline-none placeholder:text-neutral-400 dark:border-neutral-700 dark:bg-neutral-800 ${c.role?"border-red-300":""}`,children:[e.jsx("option",{value:"",children:"Seleccione un rol"}),e.jsx("option",{value:"employee",children:"Vendedor"}),e.jsx("option",{value:"counter",children:"Contador fiscal"})]}),e.jsx("div",{className:"flex flex-row items-center gap-1 text-red-400",children:c.role&&e.jsxs(e.Fragment,{children:[e.jsx(z,{size:16})," ",e.jsx("p",{children:c.role.message})]})})]})}),e.jsxs("div",{className:"my-2 grid grid-cols-1 gap-x-4 gap-y-3 font-medium",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex flex-row items-center gap-2 text-sm font-medium",children:[e.jsx("div",{className:"rounded-lg border p-2 dark:border-neutral-700",children:e.jsx(F,{})}),e.jsx("h2",{children:"Seguridad"})]})}),e.jsx("div",{className:"mt-2 flex flex-col gap-y-2 rounded-sm border-l-4 border-yellow-500 bg-yellow-50 p-2 text-xs font-normal text-yellow-600 dark:border-yellow-700 dark:bg-yellow-900/40 dark:text-yellow-500",children:e.jsxs("ol",{className:"flex list-disc flex-col gap-2 pl-4",children:[e.jsx("li",{children:e.jsxs("span",{children:[a.info2," ",e.jsx("br",{})," ",e.jsx("strong",{children:a.info3})]})}),e.jsx("li",{children:e.jsx("span",{children:a.info4})})]})})]}),e.jsxs("div",{className:"flex flex-col gap-4 pb-20",children:[e.jsx(h,{type:"text",error:c.securityWord,label:"Palabra de seguridad",register:t("securityWord"),placeholder:"Palabra de seguridad"}),e.jsx(h,{type:"text",error:c.confirmsecurityWord,label:"Confirmar palabra de seguridad",register:t("confirmsecurityWord"),placeholder:"Confirmar palabra de seguridad"})]}),e.jsxs("div",{className:"absolute bottom-0 left-0 flex w-full flex-col justify-between gap-4 bg-white p-4 py-4 text-xs font-semibold dark:bg-neutral-900 sm:flex-row",children:[!l&&e.jsx(S,{onClick:()=>{o(!1),setTimeout(d,300)},variant:"outline",type:"submit",size:"full",children:a.buttonCancel}),e.jsx(S,{variant:"primary",type:"submit",size:"full",loading:l,children:l?"Procesando...":a.buttonSubmit})]})]})]})]})})})},We=({text:a,onSubmit:u,onClose:d,loading:l,onChange:n,formData:x})=>{const[p,o]=i.useState(!1);i.useEffect(()=>{o(!0)},[]);const{register:s,handleSubmit:b,formState:{errors:t},reset:g,watch:c}=O({resolver:B(Re),defaultValues:x});i.useEffect(()=>{const f=c((N,{name:y,type:M})=>{M==="change"&&n({target:{name:y,value:N}})});return()=>f.unsubscribe()},[c,n]),i.useEffect(()=>{o(!0)},[]);const v={hidden:{opacity:0,backdropFilter:"blur(0px)"},visible:{opacity:1,backdropFilter:"blur(2px)",transition:{duration:.2}}},k={hidden:{opacity:0,scale:1,x:"100%",transition:{duration:.2,ease:"easeInOut"}},visible:{opacity:1,scale:1,x:"0%",transition:{duration:.2,ease:"circIn"}}},C=async f=>await u(f);return e.jsx(e.Fragment,{children:e.jsx(P,{children:p&&e.jsxs(w.div,{className:"fixed inset-0 z-50 flex items-center justify-end overflow-auto",initial:"hidden",animate:"visible",exit:"hidden",variants:v,children:[e.jsx(w.div,{className:"absolute inset-0 bg-neutral-50/50 dark:bg-neutral-900/50",variants:v}),e.jsxs(w.div,{className:"relative flex h-full max-h-max w-full max-w-md flex-col gap-y-5 border bg-white p-6 text-neutral-600 shadow-lg dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-300",variants:k,onClick:f=>f.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2 font-medium",children:[e.jsx("div",{className:"rounded-lg border p-2 dark:border-neutral-700",children:e.jsx(D,{})}),e.jsx("span",{children:a.title})]}),!l&&e.jsx("button",{onClick:()=>{o(!1),setTimeout(d,300)},className:"cursor-pointer rounded-md p-1.5 text-lg text-neutral-400 transition-colors duration-150 hover:bg-neutral-100 hover:text-neutral-500 dark:hover:bg-neutral-800 dark:hover:text-neutral-300",children:e.jsx(W,{})})]}),e.jsxs("form",{onSubmit:b(C),className:"flex flex-col gap-y-2 overflow-y-auto px-1 pr-4 text-xs",children:[e.jsx(h,{type:"text",error:t.username,label:"Angelo David García Arteaga",register:s("username"),placeholder:"Angelo David García Arteaga"}),e.jsx(h,{type:"email",error:t.email,label:"E-mail",register:s("email"),placeholder:"angelo@gmail.com"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-3 font-medium",children:[e.jsx(h,{type:"text",error:t.phone,label:"Celular",register:s("phone"),placeholder:"0980868530"}),e.jsx(h,{type:"text",error:t.identification_card,label:"Cédula",register:s("identification_card"),placeholder:"0202146234"})]}),e.jsx(h,{type:"text",error:t.residence,label:"Direccón",register:s("residence"),placeholder:"Esmeraldas, La Concordia"}),e.jsx("div",{className:"grid grid-cols-1 gap-x-4 gap-y-3 pt-2 font-medium",children:e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:` ${t.role?"text-red-600":""}`,children:"Rol"}),e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsxs("select",{type:"text",name:"role",...s("role"),className:`bg-neutral- 50 rounded-md border border-neutral-100 bg-neutral-50 p-2 font-medium outline-none placeholder:text-neutral-400 dark:border-neutral-700 dark:bg-neutral-800 ${t.role?"border-red-300":""}`,children:[e.jsx("option",{value:"",children:"Seleccione un rol"}),e.jsx("option",{value:"employee",children:"Vendedor"}),e.jsx("option",{value:"counter",children:"Contador fiscal"})]}),e.jsx("div",{className:"flex flex-row items-center gap-1 text-red-400",children:t.role&&e.jsxs(e.Fragment,{children:[e.jsx(z,{size:16})," ",e.jsx("p",{children:t.role.message})]})})]})}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-x-4 gap-y-3 pb-16 font-medium",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex flex-row items-center gap-2 text-sm font-medium",children:[e.jsx("div",{className:"rounded-lg border p-2 dark:border-neutral-700",children:e.jsx(F,{})}),e.jsx("h2",{children:"Seguridad"})]})}),e.jsx("div",{className:"my-4 flex flex-col gap-y-2 rounded-sm border-l-4 border-yellow-500 bg-yellow-50 p-2 text-xs font-normal text-yellow-600 dark:border-yellow-700 dark:bg-yellow-900/40 dark:text-yellow-500",children:e.jsxs("ol",{className:"list-disc pl-4",children:[e.jsx("li",{children:e.jsx("span",{children:a.info1})}),e.jsx("li",{children:e.jsx("span",{children:a.info2})})]})})]}),e.jsx(h,{type:"text",error:t.securityWord,label:"Palabra de seguridad",register:s("securityWord"),placeholder:"MuySegura"})]}),e.jsxs("div",{className:"absolute bottom-0 left-0 flex w-full flex-col justify-between gap-4 bg-white p-4 py-4 text-xs font-semibold dark:bg-neutral-900 sm:flex-row",children:[!l&&e.jsx(S,{onClick:()=>{o(!1),setTimeout(d,300)},variant:"outline",type:"submit",size:"full",children:a.buttonCancel}),e.jsx(S,{variant:"primary",type:"submit",size:"full",loading:l,children:l?"Procesando...":a.buttonSubmit})]})]})]})]})})})},ze=({onClose:a,onCreate:u})=>{const[d,l]=i.useState(!1),[n,x]=i.useState({username:"",email:"",phone:"",identification_card:"",residence:"",type_employment:"",securityWord:"",role:"",confirmsecurityWord:""}),s={text:{title:"Crear usuario",description:"Por favor, asegúrate de ingresar los datos correctos para la creación del nuevo usuario.",info1:"Ten en cuenta que la cédula que registres se asigna como parte de la contraseña.",info2:"Ten en cuenta que la palabra de seguridad que registres complementa a la contraseña.",info3:"Ejemplo de contraseña: 0201406751PALABRASECRETA",info4:"Las credeciales junto con la palabra segura se enviaran al correo regitrado.",buttonSubmit:"Ok, crear!",buttonCancel:"No, cancelar"},loading:d,onClose:a,onSubmit:async b=>{l(!0);try{const t=await xe(b);j({type:"success",message:t.message}),u(),a()}catch(t){j({type:"error",message:t.message})}finally{l(!1)}},onChange:b=>{const{name:t,value:g}=b.target;x(c=>({...c,[t]:g}))},formData:n};return e.jsx(Pe,{...s})},Fe=({user:a,onClose:u,onUpdate:d})=>{const[l,n]=i.useState(!1),[x,p]=i.useState({username:a.username||"",email:a.email||"",phone:a.phone||"",identification_card:a.identification_card||"",residence:a.residence||"",type_employment:a.type_employment||"",role:a.role.type_rol||"",securityWord:""}),b={text:{title:"Actualizar usuario",description:"Por favor, asegúrate de ingresar los datos correctos para la actualización del usuario.",info1:"Para aplicar los cambios debes ingresar la palabra segura del usuario.",info2:"Si no recuerda la palabra segura, por favor revisa el correo registrado originalmente.",buttonSubmit:"Ok, actualizar!",buttonCancel:"No, cancelar"},loading:l,onClose:u,formData:x,onSubmit:async t=>{n(!0);try{const g=await pe(a.id_user,t);j({type:"success",message:g.message}),u(),d()}catch(g){j({type:"error",message:g.message})}finally{n(!1)}},onChange:t=>{const{name:g,value:c}=t.target;p(v=>({...v,[g]:c}))}};return e.jsx(We,{...b})},Oe=({user:a,onClose:u,onDesactive:d})=>{const[l,n]=i.useState(!1),x=async o=>{o.preventDefault(),n(!0);try{const s=await ce(a.id_user);j({type:"success",message:s.message}),u(),d()}catch(s){j({type:"error",message:s.message})}finally{n(!1)}},p={text:{title:"Inhabilitar usuario",description_a:"Estás a punto de inhabilitar al usuario ",description_b:`${a.username}`,description_c:"¿Está seguro?",buttonCancel:"No, mantenlo",buttonSubmit:"Ok, inhabilitar!"},styles:{background:"bg-red-100",text:"text-red-500",buttonSubmit:"bg-red-500",hoverButtonSubmit:"hover:bg-red-600"},loading:l,onClose:u,onSubmit:x};return e.jsx(E,{...p})},Be=({user:a,onClose:u,onActive:d})=>{const[l,n]=i.useState(!1),x=async o=>{o.preventDefault(),n(!0);try{const s=await ue(a.id_user);j({type:"success",message:s.message}),u(),d()}catch(s){j({type:"error",message:s.message})}finally{n(!1)}},p={text:{title:"Habilitar usuario",description_a:"Estás a punto de habilitar al usuario",description_b:`${a.username}`,description_c:"¿Está seguro?",buttonCancel:"No, mantenlo",buttonSubmit:"Ok, habilitar!"},styles:{background:"bg-green-100",text:"text-green-500",buttonSubmit:"bg-green-500",hoverButtonSubmit:"hover:bg-green-600"},loading:l,onClose:u,onSubmit:x};return e.jsx(E,{...p})},Te=({user:a,onClose:u,onDelete:d})=>{const[l,n]=i.useState(!1),x=async o=>{o.preventDefault(),n(!0);try{const s=await me(a.id_user);j({type:"success",message:s.message}),u(),d()}catch(s){j({type:"success",message:s.message})}finally{n(!1)}},p={text:{title:"Eliminar usuario",description_a:"Estás a punto de eliminar al usuario",description_b:`${a.username}.`,description_c:"¿Está seguro?",buttonCancel:"No, mantenlo",buttonSubmit:"Ok, elinimar!"},loading:l,onClose:u,onSubmit:x};return e.jsx(E,{...p})},Ie=()=>{const[a,u]=i.useState(""),[d,l]=i.useState(null),{users:n,loading:x,error:p,setUsers:o}=ge(),[s,b]=i.useState(!1),[t,g]=i.useState(!1),[c,v]=i.useState(!1),[k,C]=i.useState(!1),[f,N]=i.useState(!1),y=r=>u(r.toLowerCase()),M=()=>b(!0),U=()=>b(!s),A=async()=>{try{const r=await q();o(r)}catch(r){console.log(r)}},T=r=>{l(r),g(!0)},I=()=>g(!t),$=async()=>{try{const r=await q();o(r)}catch(r){console.log(r)}},V=r=>{l(r),N(!0)},G=()=>N(!f),Z=async()=>{try{const r=await q();o(r)}catch(r){console.log(r)}},H=r=>{l(r),v(!0)},X=()=>v(!c),Y=async()=>{try{const r=await q();o(r)}catch(r){console.log(r)}},J=()=>C(!k),K=async()=>{try{const r=await q();o(r)}catch(r){console.log(r)}},Q=qe(n,a,["name","email","identification_card","residence","phone"]),ee=[{name:e.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-neutral-500 dark:text-neutral-300",children:[e.jsx(D,{}),e.jsx("span",{children:"Nombres"})]}),selector:r=>r.username,sortable:!0,minWidth:"250px",cell:r=>e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-300",children:e.jsx("span",{children:r.username})})},{name:e.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-neutral-500 dark:text-neutral-300",children:[e.jsx(D,{}),e.jsx("span",{children:"Rol"})]}),selector:r=>r.role.type_rol,sortable:!0,minWidth:"135px",cell:r=>e.jsx("div",{className:"flex flex-col gap-1 text-xs text-neutral-500",children:e.jsx("span",{className:`rounded-sm px-2 py-0.5 font-medium ${r.role.type_rol==="employee"?"bg-orange-50 text-orange-400 dark:bg-orange-800/50 dark:text-orange-200":"bg-sky-100 text-sky-400 dark:bg-sky-800/50 dark:text-sky-200"}`,children:r.role.type_rol==="employee"?"Vendedor":r.role.type_rol==="counter"?"Contador fiscal":"Otro Rol"})})},{name:e.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-neutral-500 dark:text-neutral-300",children:[e.jsx(je,{}),e.jsx("span",{children:"Celular"})]}),selector:r=>r.phone,sortable:!0,minWidth:"0px",cell:r=>e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-300",children:r.phone})},{name:e.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-neutral-500 dark:text-neutral-300",children:[e.jsx(ye,{}),e.jsx("span",{children:"Cédula"})]}),selector:r=>r.identification_card,sortable:!0,minWidth:"0px",cell:r=>e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-300",children:r.identification_card})},{name:e.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-neutral-500 dark:text-neutral-300",children:[e.jsx(ve,{}),e.jsx("span",{children:"Dirección"})]}),selector:r=>r.residence,sortable:!0,minWidth:"200px",cell:r=>e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-300",children:r.residence})},{name:e.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-neutral-500 dark:text-neutral-300",children:[e.jsx(ke,{}),e.jsx("span",{children:"Contratado"})]}),selector:r=>r.createdAt,sortable:!0,minWidth:"200px",cell:r=>e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-300",children:Ne(r.createdAt)})},{name:e.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-neutral-500 dark:text-neutral-300",children:[e.jsx(we,{size:15}),e.jsx("span",{children:"Estado"})]}),selector:r=>r.active,sortable:!0,minWidth:"0px",cell:r=>e.jsx("div",{className:`inline-flex items-center gap-1 rounded-sm px-2 py-0 text-xs font-medium ${r.active?"bg-green-50 text-green-600 dark:bg-green-800/60 dark:text-green-300":"bg-red-50 text-red-600 dark:bg-red-800/60 dark:text-red-300"}`,children:r.active?"Activo":"Inactivo"})},{name:e.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-neutral-500 dark:text-neutral-300",children:[e.jsx(Se,{}),e.jsx("span",{children:"Acciones"})]}),minWidth:"0px",cell:r=>e.jsx("div",{className:"flex justify-end gap-2 p-3 text-neutral-600",children:r.active?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>V(r),className:"flex items-center gap-2 rounded-sm bg-red-100 px-2 py-1 font-medium text-red-500 transition-colors duration-150 hover:bg-red-200 hover:text-red-600 focus:outline-none dark:bg-red-700 dark:text-red-200 dark:hover:bg-red-600",children:e.jsx(Ce,{size:14})}),e.jsx("button",{onClick:()=>T(r),className:"flex items-center gap-2 rounded-sm bg-neutral-100 px-2 py-1 font-medium text-neutral-500 transition-colors duration-150 hover:bg-neutral-200 hover:text-neutral-600 focus:outline-none dark:bg-neutral-700 dark:text-neutral-200 dark:hover:bg-neutral-600",children:e.jsx(Me,{size:14})})]}):e.jsx(e.Fragment,{children:e.jsx("button",{onClick:()=>H(r),className:"flex items-center gap-2 rounded-sm bg-green-100 px-2 py-1 font-medium text-green-500 transition-colors duration-150 hover:bg-green-200 hover:text-green-600 focus:outline-none dark:bg-green-700 dark:text-green-200 dark:hover:bg-green-600",children:e.jsx(_e,{size:14})})})})}],[L,R]=i.useState(!1),re=()=>R(!0),ae=()=>R(!1),te=[["Nombres","Celular","Cédula","Email","Residencia","Contratado"]],se=n.map(r=>[r.username,r.phone,r.identification_card,r.email,r.residence,De(r.createdAt)]),le=({users:r})=>{const ne=r.length||0,ie=r.filter(_=>_.active).length||0,oe=r.filter(_=>!_.active).length||0,de=r.filter(_=>_.role.type_rol==="employee").length||0;return e.jsx("div",{className:"py-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 text-neutral-500 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"flex transform items-center gap-4 rounded-lg border-l-4 border-green-400 bg-neutral-50 p-4 text-start dark:border-green-200 dark:bg-neutral-800 dark:text-green-200",children:[e.jsx("div",{className:"rounded-full bg-green-300/50 px-4 py-2 text-xl font-semibold dark:bg-green-300/50",children:ne}),e.jsx("div",{children:e.jsx("p",{className:"text-sm font-medium dark:text-green-200/80",children:"Total de usuarios"})})]}),e.jsxs("div",{className:"flex transform items-center gap-4 rounded-lg border-l-4 border-yellow-400 bg-neutral-50 p-4 text-start dark:border-yellow-200 dark:bg-neutral-800 dark:text-yellow-200",children:[e.jsx("div",{className:"rounded-full bg-yellow-300/50 px-4 py-2 text-xl font-semibold dark:bg-yellow-300/50",children:de}),e.jsx("div",{children:e.jsx("p",{className:"text-sm font-medium dark:text-yellow-200/80",children:"Vendedores"})})]}),e.jsxs("div",{className:"flex transform items-center gap-4 rounded-lg border-l-4 border-sky-400 bg-neutral-50 p-4 text-start dark:border-sky-200 dark:bg-neutral-800 dark:text-sky-200",children:[e.jsx("div",{className:"rounded-full bg-sky-300/50 px-4 py-2 text-xl font-semibold dark:bg-sky-300/50",children:ie}),e.jsx("div",{children:e.jsx("p",{className:"text-sm font-medium dark:text-sky-200/80",children:"Usuarios activos"})})]}),e.jsxs("div",{className:"flex transform items-center gap-4 rounded-lg border-l-4 border-red-400 bg-neutral-50 p-4 text-start dark:border-red-200 dark:bg-neutral-800 dark:text-red-200",children:[e.jsx("div",{className:"rounded-full bg-red-300/50 px-4 py-2 text-xl font-semibold dark:bg-red-300/50",children:oe}),e.jsx("div",{children:e.jsx("p",{className:"text-sm font-medium dark:text-red-200/80",children:"Usuarios inactivos"})})]})]})})};return e.jsx(e.Fragment,{children:x?e.jsx("div",{className:"flex h-screen items-center justify-center",children:e.jsx(he,{text:"Cargando usuarios, espera un momento :)"})}):e.jsx("main",{className:"mx-auto max-w-7xl py-20",children:e.jsxs("div",{className:"flex flex-col gap-4 gap-x-20",children:[e.jsx(le,{users:n}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2 text-lg font-medium",children:e.jsx("span",{children:"Usuarios"})}),e.jsx("div",{className:"flex flex-row items-center",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx(Ue,{onSearch:y}),e.jsx(S,{onClick:re,variant:"outline",icon:be,children:"Reporte"}),e.jsx(S,{onClick:M,variant:"primary",icon:fe,children:"Nuevo"})]})})]}),e.jsx("div",{className:"max-h-full overflow-y-auto rounded-md pt-4",children:e.jsx(Ae,{columns:ee,data:Q,expandableRows:!1})}),s&&e.jsx(ze,{user:d,onClose:U,onCreate:A}),t&&e.jsx(Fe,{user:d,onClose:I,onUpdate:$}),f&&e.jsx(Oe,{user:d,onClose:G,onDesactive:Z}),c&&e.jsx(Be,{user:d,onClose:X,onActive:Y}),k&&e.jsx(Te,{user:d,onClose:J,onDelete:K}),L&&e.jsx(Ee,{tableHead:te,tableBody:se,isOpen:L,title:"Reporte usuarios",onClose:ae})]})})})};function Ke(){return e.jsx(Ie,{})}export{Ke as default};
