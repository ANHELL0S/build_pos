import{r as o,j as e,A as P,m as N,$ as _,f as F,ah as W,ai as z,B as w,aj as de,z as f,ak as ce,al as xe,am as ue,an as me,_ as pe,S as ge,n as he,ao as be,ap as U,K as fe,D as je,aq as ye,s as ve,t as ke,q as Ne,v as we,ar as Se,as as Ce,at as De}from"./index-BGmw5ODN.js";import{f as Ue}from"./search.util-CoWWLx4z.js";import{d as _e}from"./date.util-DC23xNcO.js";import{S as Ae,T as Me,R as Ee}from"./ReportModal-C558ysT2.js";import{u as O,t as B}from"./index-8t8Zfzji.js";import{I as g}from"./InputFieldZod-D6oeOvBj.js";import{U as Re,a as Le,M as E}from"./ModalActionUsers-BonAa7yx.js";import"./jspdf.plugin.autotable-BABq9Kj5.js";const Pe=({text:a,onSubmit:x,onClose:d,loading:l,onChange:n,formData:u})=>{const[m,i]=o.useState(!1),[s,h]=o.useState(!1),{register:r,handleSubmit:p,formState:{errors:c},reset:y,watch:v}=O({resolver:B(Re),defaultValues:u}),S=async j=>{h(!0),await x(j)};o.useEffect(()=>{const j=v((C,{name:A,type:M})=>{M==="change"&&n({target:{name:A,value:C}})});return()=>j.unsubscribe()},[v,n]),o.useEffect(()=>{i(!0)},[]);const b={hidden:{opacity:0,backdropFilter:"blur(0px)"},visible:{opacity:1,backdropFilter:"blur(2px)",transition:{duration:.2}}},k={hidden:{opacity:0,scale:1,x:"100%",transition:{duration:.2,ease:"easeInOut"}},visible:{opacity:1,scale:1,x:"0%",transition:{duration:.2,ease:"circIn"}}};return e.jsx(e.Fragment,{children:e.jsx(P,{children:m&&e.jsxs(N.div,{className:"fixed inset-0 z-50 flex items-center justify-end overflow-auto",initial:"hidden",animate:"visible",exit:"hidden",variants:b,children:[e.jsx(N.div,{className:"absolute inset-0 bg-neutral-50/50 dark:bg-neutral-900/50",variants:b}),e.jsxs(N.div,{className:"relative flex h-full max-h-max w-full max-w-md flex-col gap-y-5 border bg-white p-6 text-neutral-600 shadow-lg dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-300",variants:k,onClick:j=>j.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2 font-medium",children:[e.jsx("div",{className:"rounded-lg border p-2 dark:border-neutral-700",children:e.jsx(_,{})}),e.jsx("span",{children:a.title})]}),!l&&e.jsx("button",{onClick:()=>{i(!1),setTimeout(d,300)},className:"cursor-pointer rounded-md p-1.5 text-lg text-neutral-400 transition-colors duration-150 hover:bg-neutral-100 hover:text-neutral-500 dark:hover:bg-neutral-800 dark:hover:text-neutral-300",children:e.jsx(F,{})})]}),e.jsxs("form",{onSubmit:p(S),className:"flex flex-col gap-y-2 overflow-y-auto pl-1 pr-4 text-xs text-neutral-600 dark:text-neutral-300",children:[e.jsx("div",{className:"grid grid-cols-1 gap-x-4 gap-y-3 pl-1 font-medium",children:e.jsx("div",{className:"text-md flex flex-col gap-y-1 font-semibold text-sky-600",children:e.jsxs("div",{className:"flex flex-col gap-y-2 rounded-sm border-l-4 border-sky-500 bg-sky-50 p-2 text-xs font-normal dark:border-sky-700 dark:bg-sky-900/40",children:[e.jsx("span",{children:a.description}),e.jsx("ol",{className:"list-disc pl-4",children:e.jsx("li",{children:e.jsx("span",{children:a.info1})})})]})})}),e.jsx(g,{type:"text",error:c.username,label:"Nombres completos",register:r("username"),placeholder:"Angelo David García Arteaga"}),e.jsx(g,{type:"text",error:c.email,label:"E-mail",register:r("email"),placeholder:"Correo electrónico"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-3 pt-2 font-medium",children:[e.jsx(g,{type:"text",error:c.phone,label:"Teléfono",register:r("phone"),placeholder:"Teléfono"}),e.jsx(g,{type:"text",error:c.identification_card,label:"Cédula",register:r("identification_card"),placeholder:"Cédula"})]}),e.jsx(g,{type:"text",error:c.residence,label:"Dirección",register:r("residence"),placeholder:"Dirección"}),e.jsx("div",{className:"grid grid-cols-1 gap-x-4 gap-y-3 pt-2 font-medium",children:e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:` ${c.role?"text-red-600 dark:text-red-500":""}`,children:"Rol"}),e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsxs("select",{name:"role",...r("role"),className:`bg-neutral- 50 rounded-md border border-neutral-100 bg-neutral-50 p-2 font-medium outline-none placeholder:text-neutral-400 dark:border-neutral-700 dark:bg-neutral-800 ${c.role?"border-red-300":""}`,children:[e.jsx("option",{value:"",children:"Seleccione un rol"}),e.jsx("option",{value:"employee",children:"Vendedor"}),e.jsx("option",{value:"counter",children:"Contador fiscal"})]}),e.jsx("div",{className:"flex flex-row items-center gap-1 text-red-400",children:c.role&&e.jsxs(e.Fragment,{children:[e.jsx(W,{size:16})," ",e.jsx("p",{children:c.role.message})]})})]})}),e.jsxs("div",{className:"my-2 grid grid-cols-1 gap-x-4 gap-y-3 font-medium",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex flex-row items-center gap-2 text-sm font-medium",children:[e.jsx("div",{className:"rounded-lg border p-2 dark:border-neutral-700",children:e.jsx(z,{})}),e.jsx("h2",{children:"Seguridad"})]})}),e.jsx("div",{className:"mt-2 flex flex-col gap-y-2 rounded-sm border-l-4 border-yellow-500 bg-yellow-50 p-2 text-xs font-normal text-yellow-600 dark:border-yellow-700 dark:bg-yellow-900/40 dark:text-yellow-500",children:e.jsxs("ol",{className:"flex list-disc flex-col gap-2 pl-4",children:[e.jsx("li",{children:e.jsxs("span",{children:[a.info2," ",e.jsx("br",{})," ",e.jsx("strong",{children:a.info3})]})}),e.jsx("li",{children:e.jsx("span",{children:a.info4})})]})})]}),e.jsxs("div",{className:"flex flex-col gap-4 pb-20",children:[e.jsx(g,{type:"text",error:c.securityWord,label:"Palabra de seguridad",register:r("securityWord"),placeholder:"Palabra de seguridad"}),e.jsx(g,{type:"text",error:c.confirmsecurityWord,label:"Confirmar palabra de seguridad",register:r("confirmsecurityWord"),placeholder:"Confirmar palabra de seguridad"})]}),e.jsxs("div",{className:"absolute bottom-0 left-0 flex w-full flex-col justify-between gap-4 bg-white p-4 py-4 text-xs font-semibold dark:bg-neutral-900 sm:flex-row",children:[!l&&e.jsx(w,{onClick:()=>{i(!1),setTimeout(d,300)},variant:"outline",type:"submit",size:"full",children:a.buttonCancel}),e.jsx(w,{variant:"primary",type:"submit",size:"full",loading:l,children:l?"Procesando...":a.buttonSubmit})]})]})]})]})})})},Fe=({text:a,onSubmit:x,onClose:d,loading:l,onChange:n,formData:u})=>{const[m,i]=o.useState(!1);o.useEffect(()=>{i(!0)},[]);const{register:s,handleSubmit:h,formState:{errors:r},reset:p,watch:c}=O({resolver:B(Le),defaultValues:u});o.useEffect(()=>{const b=c((k,{name:j,type:C})=>{C==="change"&&n({target:{name:j,value:k}})});return()=>b.unsubscribe()},[c,n]),o.useEffect(()=>{i(!0)},[]);const y={hidden:{opacity:0,backdropFilter:"blur(0px)"},visible:{opacity:1,backdropFilter:"blur(2px)",transition:{duration:.2}}},v={hidden:{opacity:0,scale:1,x:"100%",transition:{duration:.2,ease:"easeInOut"}},visible:{opacity:1,scale:1,x:"0%",transition:{duration:.2,ease:"circIn"}}},S=async b=>await x(b);return e.jsx(e.Fragment,{children:e.jsx(P,{children:m&&e.jsxs(N.div,{className:"fixed inset-0 z-50 flex items-center justify-end overflow-auto",initial:"hidden",animate:"visible",exit:"hidden",variants:y,children:[e.jsx(N.div,{className:"absolute inset-0 bg-neutral-50/50 dark:bg-neutral-900/50",variants:y}),e.jsxs(N.div,{className:"relative flex h-full max-h-max w-full max-w-md flex-col gap-y-5 border bg-white p-6 text-neutral-600 shadow-lg dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-300",variants:v,onClick:b=>b.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2 font-medium",children:[e.jsx("div",{className:"rounded-lg border p-2 dark:border-neutral-700",children:e.jsx(_,{})}),e.jsx("span",{children:a.title})]}),!l&&e.jsx("button",{onClick:()=>{i(!1),setTimeout(d,300)},className:"cursor-pointer rounded-md p-1.5 text-lg text-neutral-400 transition-colors duration-150 hover:bg-neutral-100 hover:text-neutral-500 dark:hover:bg-neutral-800 dark:hover:text-neutral-300",children:e.jsx(F,{})})]}),e.jsxs("form",{onSubmit:h(S),className:"flex flex-col gap-y-2 overflow-y-auto px-1 pr-4 text-xs",children:[e.jsx(g,{type:"text",error:r.username,label:"Angelo David García Arteaga",register:s("username"),placeholder:"Angelo David García Arteaga"}),e.jsx(g,{type:"email",error:r.email,label:"E-mail",register:s("email"),placeholder:"angelo@gmail.com"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-3 font-medium",children:[e.jsx(g,{type:"text",error:r.phone,label:"Celular",register:s("phone"),placeholder:"0980868530"}),e.jsx(g,{type:"text",error:r.identification_card,label:"Cédula",register:s("identification_card"),placeholder:"0202146234"})]}),e.jsx(g,{type:"text",error:r.residence,label:"Direccón",register:s("residence"),placeholder:"Esmeraldas, La Concordia"}),e.jsx("div",{className:"grid grid-cols-1 gap-x-4 gap-y-3 pt-2 font-medium",children:e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:` ${r.role?"text-red-600":""}`,children:"Rol"}),e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsxs("select",{type:"text",name:"role",...s("role"),className:`bg-neutral- 50 rounded-md border border-neutral-100 bg-neutral-50 p-2 font-medium outline-none placeholder:text-neutral-400 dark:border-neutral-700 dark:bg-neutral-800 ${r.role?"border-red-300":""}`,children:[e.jsx("option",{value:"",children:"Seleccione un rol"}),e.jsx("option",{value:"employee",children:"Vendedor"}),e.jsx("option",{value:"counter",children:"Contador fiscal"})]}),e.jsx("div",{className:"flex flex-row items-center gap-1 text-red-400",children:r.role&&e.jsxs(e.Fragment,{children:[e.jsx(W,{size:16})," ",e.jsx("p",{children:r.role.message})]})})]})}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-x-4 gap-y-3 pb-16 font-medium",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex flex-row items-center gap-2 text-sm font-medium",children:[e.jsx("div",{className:"rounded-lg border p-2 dark:border-neutral-700",children:e.jsx(z,{})}),e.jsx("h2",{children:"Seguridad"})]})}),e.jsx("div",{className:"my-4 flex flex-col gap-y-2 rounded-sm border-l-4 border-yellow-500 bg-yellow-50 p-2 text-xs font-normal text-yellow-600 dark:border-yellow-700 dark:bg-yellow-900/40 dark:text-yellow-500",children:e.jsxs("ol",{className:"list-disc pl-4",children:[e.jsx("li",{children:e.jsx("span",{children:a.info1})}),e.jsx("li",{children:e.jsx("span",{children:a.info2})})]})})]}),e.jsx(g,{type:"text",error:r.securityWord,label:"Palabra de seguridad",register:s("securityWord"),placeholder:"MuySegura"})]}),e.jsxs("div",{className:"absolute bottom-0 left-0 flex w-full flex-col justify-between gap-4 bg-white p-4 py-4 text-xs font-semibold dark:bg-neutral-900 sm:flex-row",children:[!l&&e.jsx(w,{onClick:()=>{i(!1),setTimeout(d,300)},variant:"outline",type:"submit",size:"full",children:a.buttonCancel}),e.jsx(w,{variant:"primary",type:"submit",size:"full",loading:l,children:l?"Procesando...":a.buttonSubmit})]})]})]})]})})})},We=({onClose:a,onCreate:x})=>{const[d,l]=o.useState(!1),[n,u]=o.useState({username:"",email:"",phone:"",identification_card:"",residence:"",type_employment:"",securityWord:"",role:"",confirmsecurityWord:""}),s={text:{title:"Crear usuario",description:"Por favor, asegúrate de ingresar los datos correctos para la creación del nuevo usuario.",info1:"Ten en cuenta que la cédula que registres se asigna como parte de la contraseña.",info2:"Ten en cuenta que la palabra de seguridad que registres complementa a la contraseña.",info3:"Ejemplo de contraseña: 0201406751PALABRASECRETA",info4:"Las credeciales junto con la palabra segura se enviaran al correo regitrado.",buttonSubmit:"Ok, crear!",buttonCancel:"No, cancelar"},loading:d,onClose:a,onSubmit:async h=>{l(!0);try{const r=await ue(h);f({type:"success",message:r.message}),x(),a()}catch(r){f({type:"error",message:r.message})}finally{l(!1)}},onChange:h=>{const{name:r,value:p}=h.target;u(c=>({...c,[r]:p}))},formData:n};return e.jsx(Pe,{...s})},ze=({user:a,onClose:x,onUpdate:d})=>{const[l,n]=o.useState(!1),[u,m]=o.useState({username:a.username||"",email:a.email||"",phone:a.phone||"",identification_card:a.identification_card||"",residence:a.residence||"",type_employment:a.type_employment||"",role:a.role.type_rol||"",securityWord:""}),h={text:{title:"Actualizar usuario",description:"Por favor, asegúrate de ingresar los datos correctos para la actualización del usuario.",info1:"Para aplicar los cambios debes ingresar la palabra segura del usuario.",info2:"Si no recuerda la palabra segura, por favor revisa el correo registrado originalmente.",buttonSubmit:"Ok, actualizar!",buttonCancel:"No, cancelar"},loading:l,onClose:x,formData:u,onSubmit:async r=>{n(!0);try{const p=await me(a.id_user,r);f({type:"success",message:p.message}),x(),d()}catch(p){f({type:"error",message:p.message})}finally{n(!1)}},onChange:r=>{const{name:p,value:c}=r.target;m(y=>({...y,[p]:c}))}};return e.jsx(Fe,{...h})},Oe=({user:a,onClose:x,onDesactive:d})=>{const[l,n]=o.useState(!1),u=async i=>{i.preventDefault(),n(!0);try{const s=await de(a.id_user);f({type:"success",message:s.message}),x(),d()}catch(s){f({type:"error",message:s.message})}finally{n(!1)}},m={text:{title:"Inhabilitar usuario",description_a:"Estás a punto de inhabilitar al usuario ",description_b:`${a.username}`,description_c:"¿Está seguro?",buttonCancel:"No, mantenlo",buttonSubmit:"Ok, inhabilitar!"},styles:{background:"bg-red-100",text:"text-red-500",buttonSubmit:"bg-red-500",hoverButtonSubmit:"hover:bg-red-600"},loading:l,onClose:x,onSubmit:u};return e.jsx(E,{...m})},Be=({user:a,onClose:x,onActive:d})=>{const[l,n]=o.useState(!1),u=async i=>{i.preventDefault(),n(!0);try{const s=await ce(a.id_user);f({type:"success",message:s.message}),x(),d()}catch(s){f({type:"error",message:s.message})}finally{n(!1)}},m={text:{title:"Habilitar usuario",description_a:"Estás a punto de habilitar al usuario",description_b:`${a.username}`,description_c:"¿Está seguro?",buttonCancel:"No, mantenlo",buttonSubmit:"Ok, habilitar!"},styles:{background:"bg-green-100",text:"text-green-500",buttonSubmit:"bg-green-500",hoverButtonSubmit:"hover:bg-green-600"},loading:l,onClose:x,onSubmit:u};return e.jsx(E,{...m})},Te=({user:a,onClose:x,onDelete:d})=>{const[l,n]=o.useState(!1),u=async i=>{i.preventDefault(),n(!0);try{const s=await xe(a.id_user);f({type:"success",message:s.message}),x(),d()}catch(s){f({type:"success",message:s.message})}finally{n(!1)}},m={text:{title:"Eliminar usuario",description_a:"Estás a punto de eliminar al usuario",description_b:`${a.username}.`,description_c:"¿Está seguro?",buttonCancel:"No, mantenlo",buttonSubmit:"Ok, elinimar!"},loading:l,onClose:x,onSubmit:u};return e.jsx(E,{...m})},qe=()=>{const[a,x]=o.useState(""),[d,l]=o.useState(null),{users:n,loading:u,error:m,setUsers:i}=pe(),[s,h]=o.useState(!1),[r,p]=o.useState(!1),[c,y]=o.useState(!1),[v,S]=o.useState(!1),[b,k]=o.useState(!1),j=t=>x(t.toLowerCase()),C=()=>h(!0),A=()=>h(!s),M=async()=>{try{const t=await U();i(t)}catch(t){console.log(t)}},T=t=>{l(t),p(!0)},q=()=>p(!r),I=async()=>{try{const t=await U();i(t)}catch(t){console.log(t)}},V=t=>{l(t),k(!0)},$=()=>k(!b),G=async()=>{try{const t=await U();i(t)}catch(t){console.log(t)}},H=t=>{l(t),y(!0)},K=()=>y(!c),X=async()=>{try{const t=await U();i(t)}catch(t){console.log(t)}},Z=()=>S(!v),J=async()=>{try{const t=await U();i(t)}catch(t){console.log(t)}},Q=Ue(n,a,["name","email","identification_card","residence","phone"]),Y=[{name:e.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-neutral-500 dark:text-neutral-300",children:[e.jsx(_,{}),e.jsx("span",{children:"Nombres"})]}),selector:t=>t.username,sortable:!0,minWidth:"250px",cell:t=>e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-300",children:e.jsx("span",{children:t.username})})},{name:e.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-neutral-500 dark:text-neutral-300",children:[e.jsx(_,{}),e.jsx("span",{children:"Rol"})]}),selector:t=>t.role.type_rol,sortable:!0,minWidth:"135px",cell:t=>e.jsx("div",{className:"flex flex-col gap-1 text-xs text-neutral-500",children:e.jsx("span",{className:`rounded-sm px-2 py-0.5 font-medium ${t.role.type_rol==="employee"?"bg-orange-50 text-orange-400 dark:bg-orange-800/50 dark:text-orange-200":"bg-sky-100 text-sky-400 dark:bg-sky-800/50 dark:text-sky-200"}`,children:t.role.type_rol==="employee"?"Vendedor":t.role.type_rol==="counter"?"Contador fiscal":"Otro Rol"})})},{name:e.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-neutral-500 dark:text-neutral-300",children:[e.jsx(fe,{}),e.jsx("span",{children:"Celular"})]}),selector:t=>t.phone,sortable:!0,minWidth:"0px",cell:t=>e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-300",children:t.phone})},{name:e.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-neutral-500 dark:text-neutral-300",children:[e.jsx(je,{}),e.jsx("span",{children:"Cédula"})]}),selector:t=>t.identification_card,sortable:!0,minWidth:"0px",cell:t=>e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-300",children:t.identification_card})},{name:e.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-neutral-500 dark:text-neutral-300",children:[e.jsx(ye,{}),e.jsx("span",{children:"Dirección"})]}),selector:t=>t.residence,sortable:!0,minWidth:"200px",cell:t=>e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-300",children:t.residence})},{name:e.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-neutral-500 dark:text-neutral-300",children:[e.jsx(ve,{}),e.jsx("span",{children:"Contratado"})]}),selector:t=>t.createdAt,sortable:!0,minWidth:"200px",cell:t=>e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-300",children:ke(t.createdAt)})},{name:e.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-neutral-500 dark:text-neutral-300",children:[e.jsx(Ne,{size:15}),e.jsx("span",{children:"Estado"})]}),selector:t=>t.active,sortable:!0,minWidth:"0px",cell:t=>e.jsx("div",{className:`inline-flex items-center gap-1 rounded-sm px-2 py-0 text-xs font-medium ${t.active?"bg-green-50 text-green-600 dark:bg-green-800/60 dark:text-green-300":"bg-red-50 text-red-600 dark:bg-red-800/60 dark:text-red-300"}`,children:t.active?"Activo":"Inactivo"})},{name:e.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-neutral-500 dark:text-neutral-300",children:[e.jsx(we,{}),e.jsx("span",{children:"Acciones"})]}),minWidth:"0px",cell:t=>e.jsx("div",{className:"flex justify-end gap-2 p-3 text-neutral-600",children:t.active?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>V(t),className:"flex items-center gap-2 rounded-sm bg-red-100 px-2 py-1 font-medium text-red-500 transition-colors duration-150 hover:bg-red-200 hover:text-red-600 focus:outline-none dark:bg-red-700 dark:text-red-200 dark:hover:bg-red-600",children:e.jsx(Se,{size:14})}),e.jsx("button",{onClick:()=>T(t),className:"flex items-center gap-2 rounded-sm bg-neutral-100 px-2 py-1 font-medium text-neutral-500 transition-colors duration-150 hover:bg-neutral-200 hover:text-neutral-600 focus:outline-none dark:bg-neutral-700 dark:text-neutral-200 dark:hover:bg-neutral-600",children:e.jsx(Ce,{size:14})})]}):e.jsx(e.Fragment,{children:e.jsx("button",{onClick:()=>H(t),className:"flex items-center gap-2 rounded-sm bg-green-100 px-2 py-1 font-medium text-green-500 transition-colors duration-150 hover:bg-green-200 hover:text-green-600 focus:outline-none dark:bg-green-700 dark:text-green-200 dark:hover:bg-green-600",children:e.jsx(De,{size:14})})})})}],[R,L]=o.useState(!1),ee=()=>L(!0),te=()=>L(!1),ae=[["Nombres","Celular","Cédula","Email","Residencia","Contratado"]],re=n.map(t=>[t.username,t.phone,t.identification_card,t.email,t.residence,_e(t.createdAt)]),se=({users:t})=>{const le=t.length||0,ne=t.filter(D=>D.active).length||0,oe=t.filter(D=>!D.active).length||0,ie=t.filter(D=>D.role.type_rol==="employee").length||0;return e.jsx("div",{className:"py-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 text-neutral-500 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"flex transform items-center gap-4 rounded-lg border-l-4 border-green-400 bg-neutral-50 p-4 text-start dark:border-green-200 dark:bg-neutral-800 dark:text-green-200",children:[e.jsx("div",{className:"rounded-full bg-green-300/50 px-4 py-2 text-xl font-semibold dark:bg-green-300/50",children:le}),e.jsx("div",{children:e.jsx("p",{className:"text-sm font-medium dark:text-green-200/80",children:"Total de usuarios"})})]}),e.jsxs("div",{className:"flex transform items-center gap-4 rounded-lg border-l-4 border-yellow-400 bg-neutral-50 p-4 text-start dark:border-yellow-200 dark:bg-neutral-800 dark:text-yellow-200",children:[e.jsx("div",{className:"rounded-full bg-yellow-300/50 px-4 py-2 text-xl font-semibold dark:bg-yellow-300/50",children:ie}),e.jsx("div",{children:e.jsx("p",{className:"text-sm font-medium dark:text-yellow-200/80",children:"Vendedores"})})]}),e.jsxs("div",{className:"flex transform items-center gap-4 rounded-lg border-l-4 border-sky-400 bg-neutral-50 p-4 text-start dark:border-sky-200 dark:bg-neutral-800 dark:text-sky-200",children:[e.jsx("div",{className:"rounded-full bg-sky-300/50 px-4 py-2 text-xl font-semibold dark:bg-sky-300/50",children:ne}),e.jsx("div",{children:e.jsx("p",{className:"text-sm font-medium dark:text-sky-200/80",children:"Usuarios activos"})})]}),e.jsxs("div",{className:"flex transform items-center gap-4 rounded-lg border-l-4 border-red-400 bg-neutral-50 p-4 text-start dark:border-red-200 dark:bg-neutral-800 dark:text-red-200",children:[e.jsx("div",{className:"rounded-full bg-red-300/50 px-4 py-2 text-xl font-semibold dark:bg-red-300/50",children:oe}),e.jsx("div",{children:e.jsx("p",{className:"text-sm font-medium dark:text-red-200/80",children:"Usuarios inactivos"})})]})]})})};return e.jsx(e.Fragment,{children:u?e.jsx("div",{className:"flex h-screen items-center justify-center",children:e.jsx(ge,{text:"Cargando usuarios, espera un momento :)"})}):e.jsx("main",{className:"mx-auto max-w-7xl py-20",children:e.jsxs("div",{className:"flex flex-col gap-4 gap-x-20",children:[e.jsx(se,{users:n}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2 text-lg font-medium",children:e.jsx("span",{children:"Usuarios"})}),e.jsx("div",{className:"flex flex-row items-center",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx(Ae,{onSearch:j}),e.jsx(w,{onClick:ee,variant:"outline",icon:he,children:"Reporte"}),e.jsx(w,{onClick:C,variant:"primary",icon:be,children:"Nuevo"})]})})]}),e.jsx("div",{className:"max-h-full overflow-y-auto rounded-md pt-4",children:e.jsx(Me,{columns:Y,data:Q,expandableRows:!1})}),s&&e.jsx(We,{user:d,onClose:A,onCreate:M}),r&&e.jsx(ze,{user:d,onClose:q,onUpdate:I}),b&&e.jsx(Oe,{user:d,onClose:$,onDesactive:G}),c&&e.jsx(Be,{user:d,onClose:K,onActive:X}),v&&e.jsx(Te,{user:d,onClose:Z,onDelete:J}),R&&e.jsx(Ee,{tableHead:ae,tableBody:re,isOpen:R,title:"Reporte usuarios",onClose:te})]})})})};function Je(){return e.jsx(qe,{})}export{Je as default};
